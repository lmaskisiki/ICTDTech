package messaging;

import org.springframework.beans.factory.annotation.Autowired;
import org.springframework.beans.factory.annotation.Qualifier;
import org.springframework.context.ApplicationContext;
import org.springframework.context.support.ClassPathXmlApplicationContext;
import org.springframework.integration.Message;
import org.springframework.integration.MessageChannel;
import org.springframework.integration.message.GenericMessage;
import org.springframework.integration.support.MessageBuilder;
import org.springframework.stereotype.Service;


@Service
public class SendSearchRequest {

	@Autowired
	@Qualifier("outChannel")
	private MessageChannel chennel;

	public SendSearchRequest() {
 
		 chennel.send(MessageBuilder.withPayload("admin").build());
		 ApplicationContext context = new ClassPathXmlApplicationContext("springIntegration.xml");
		 
	        // get the reference to the message channel
	        MessageChannel channel = context.getBean("outChannel", MessageChannel.class);
	 
	        // create a message with the content "World"
	        Message<String> message = MessageBuilder.withPayload("World").build();
	}
	
	
	
	
	public static void main(String [] args){
		
		new SendSearchRequest();
		System.out.println("Lizo");
		
	}
	
	
}
